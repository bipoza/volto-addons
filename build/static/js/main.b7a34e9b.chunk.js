(this["webpackJsonpvolto-addons"]=this["webpackJsonpvolto-addons"]||[]).push([[0],{178:function(e,t,n){},179:function(e,t,n){},186:function(e,t,n){},262:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(40),c=n.n(r),i=(n(178),n(277)),l=n(284),s=n(83),u=n(23),d=n(285),j=n(281),b=n(283),h=n(280),p=(n(179),"addons"),v=[{name:"Rich text editing",description:"Enhance the basic text editing experience",slug:"rich-text-editing"},{name:"Layout addons",description:"Enhancements to the way blocks can be used, to create custom layouts",slug:"layout-addons"},{name:"Widgets",description:"Input components, to be reused in the form library",slug:"widgets"}],O=n(118),f=n(5),g={loading:!1,results:[],value:""};function m(e,t){switch(t.type){case"CLEAN_QUERY":return g;case"START_SEARCH":return Object(u.a)(Object(u.a)({},e),{},{loading:!0,value:t.query});case"FINISH_SEARCH":return Object(u.a)(Object(u.a)({},e),{},{loading:!1,results:t.results});case"UPDATE_SELECTION":return Object(u.a)(Object(u.a)({},e),{},{value:t.selection});default:throw new Error}}var x=Object(O.b)((function(e){var t=e.addons,n=t.addons;t.loading;return console.log("ADDONS: ",n),{addons:n}}))((function(e){var t=e.addons;console.log("ADDOS: ",t);var n=Object(a.useState)(!1),r=Object(s.a)(n,2),c=r[0],l=r[1],u=Object(a.useState)("home"),p=Object(s.a)(u,2),O=p[0],x=p[1],y=o.a.useReducer(m,g),E=Object(s.a)(y,2),S=E[0],w=E[1],T=S.loading,_=S.results,A=S.value,C=o.a.useRef(),I=o.a.useCallback((function(e,n){console.log("INPUT: ",n.value),clearTimeout(C.current),w({type:"START_SEARCH",query:n.value}),C.current=setTimeout((function(){0!==n.value.length?(w({type:"FINISH_SEARCH",results:null===t||void 0===t?void 0:t.filter((function(e){return e.title.indexOf(n.value)>-1||e.category.indexOf(n.value)>-1}))}),l(!0)):w({type:"CLEAN_QUERY"})}),300)}),[t]);return o.a.useEffect((function(){return function(){clearTimeout(C.current)}}),[]),Object(f.jsx)("div",{className:"search-row",children:Object(f.jsx)(i.a,{children:Object(f.jsxs)(d.a,{children:[Object(f.jsx)(d.a.Column,{width:8,children:Object(f.jsx)(j.a,{size:"large",className:"search-bar",loading:T,onResultSelect:function(e,t){return w({type:"UPDATE_SELECTION",selection:t.result.title})},onSearchChange:I,results:_,value:A,open:c,onBlur:function(){return l(!1)}})}),Object(f.jsx)(d.a.Column,{width:8,children:Object(f.jsx)(b.a,{secondary:!0,children:v.map((function(e){return Object(f.jsx)(h.a,{content:e.description,position:"bottom center",trigger:Object(f.jsx)(b.a.Item,{name:e.name,active:O===e.name,onClick:function(t){x(e.name),w({type:"UPDATE_SELECTION",selection:e.name});var n={value:e.name};I(t,n)}})})}))})})]})})})})),y=n.p+"static/media/logo.b1e054e2.svg",E=n(278),S=n(161),w=n(87),T=n(282),_=(n(186),[{key:"English",text:"English",value:"English"},{key:"Euskara",text:"Euskara",value:"Euskara"},{key:"French",text:"French",value:"French"},{key:"Spanish",text:"Spanish",value:"Spanish"}]),A=function(){return Object(f.jsx)(T.a,{text:"Select Language",simple:!0,item:!0,className:"link item icon",icon:"world",children:Object(f.jsx)(T.a.Menu,{children:_.map((function(e){return Object(f.jsx)(T.a.Item,{children:e.text},e.key)}))})})},C={border:"none",borderRadius:0,boxShadow:"none",marginBottom:"1em",marginTop:"1em",transition:"box-shadow 0.5s ease, padding 0.5s ease"},I={backgroundColor:"#fff",border:"1px solid #ddd",boxShadow:"0px 3px 5px rgba(0, 0, 0, 0.2)"};var k=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],o=t[1];return Object(f.jsx)(E.a,{onBottomPassed:function(){return o(!0)},onBottomVisible:function(){return o(!1)},once:!1,children:Object(f.jsx)(b.a,{borderless:!0,fixed:n?"top":void 0,style:n?I:C,children:Object(f.jsxs)(i.a,{children:[Object(f.jsx)(b.a.Item,{children:Object(f.jsx)(S.a,{size:"small",src:y})}),Object(f.jsx)(b.a.Item,{children:"Volto community addons gallery"}),Object(f.jsxs)(b.a.Menu,{position:"right",children:[Object(f.jsx)(h.a,{content:"Contribute by publishing your addon or with anything you can think of. Any idea is welcome!",trigger:Object(f.jsxs)(b.a.Item,{as:"a",children:[" ",Object(f.jsxs)("div",{children:["Contribute ",Object(f.jsx)(w.a,{name:"github"})]})]})}),Object(f.jsx)(A,{})]})]})})})},D=n(117),N=n.n(D),R=n(159),F=n.n(R),L="Addons",P="Plone addons for Volto";var U=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(k,{}),Object(f.jsx)(x,{}),Object(f.jsx)(i.a,{style:{marginTop:"2em"},children:Object(f.jsx)(l.a,{onClick:function(){N.a.get("https://raw.githubusercontent.com/collective/awesome-volto/master/README.md").then((function(e){var t=(new F.a).parse(e.data),n=[],a=(t=t.filter((function(e){return"inline"===e.type}))).findIndex((function(e){return e.content===L})),o=t.findIndex((function(e){return e.content===P}));t=t.slice(a,o).filter((function(e){return 1===e.level||3===e.level})),console.log("Result: ",t);for(var r=0,c=0;c<t.length;c++)if(console.log("result: ",t[c]),1===t[c].level){var i,l,s={title:null===(i=t[c])||void 0===i?void 0:i.content,description:null===(l=t[c+1])||void 0===l?void 0:l.content,data:[]};n.push(s),c++,r++}else if(3===t[c].level){var u,d,j,b,h,p,v,O,f,g,m,x,y,E,S,w={title:(null===(u=t[c])||void 0===u||null===(d=u.children)||void 0===d||null===(j=d[1])||void 0===j?void 0:j.content)||(null===(b=t[c])||void 0===b?void 0:b.content),description:(null===(h=t[c])||void 0===h||null===(p=h.children)||void 0===p?void 0:p.length)>=4?null===(v=t[c])||void 0===v||null===(O=v.children)||void 0===O||null===(f=O[3])||void 0===f?void 0:f.content.replace(/ - | \u2013 /gi,""):null,url:(null===(g=t[c])||void 0===g||null===(m=g.children)||void 0===m||null===(x=m[0])||void 0===x||null===(y=x.attrs)||void 0===y||null===(E=y[0])||void 0===E?void 0:E[1])||(null===(S=t[c])||void 0===S?void 0:S.content)};n[r-1].data.push(w)}console.log("ADDONS: ",n)})).catch((function(e){}))},children:"GET addons"})})]})},B=n(286),H=n(279),M=n.p+"static/media/logo_white_large.f5946b8e.png";var z=function(){return Object(f.jsx)(B.a,{inverted:!0,style:{margin:"5em 0em 0em",padding:"5em 0em"},vertical:!0,children:Object(f.jsxs)(i.a,{textAlign:"center",children:[Object(f.jsx)(S.a,{src:M,centered:!0,size:"small"}),Object(f.jsx)(H.a,{inverted:!0,section:!0}),Object(f.jsx)("p",{children:"Made by bipoza with \u2764\ufe0f"})]})})},G=n(85),J="GET_ADDONS_SUCCESS",V="GET_ADDONS_FAILURE",q="GET_ADDONS_STARTED",Q={loading:!1,all_addons:[],categories:[],error:null};var X=Object(G.b)({addons:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case J:return console.log("Action: ",t),Object(u.a)(Object(u.a)({},e),{},{loading:!1,error:null,addons:[].concat.apply([],t.payload.data.data.map((function(e){return e.data.map((function(t){return{title:t.title,description:t.description,url:t.url,category:e.title}}))}))),categories:[].concat.apply([],t.payload.data.data.map((function(e){return{title:e.title,description:e.description}}))),last_update:t.payload.data.last_update});case V:return Object(u.a)(Object(u.a)({},e),{},{loading:!1,error:t.payload.error});default:return e}}}),Y=n(160),W=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||G.c,K=Object(G.d)(X,W(Object(G.a)(Y.a))),Z=n(55),$=n.n(Z),ee=n(93),te=function(){var e=Object(ee.a)($.a.mark((function e(t){var n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem({key:t});case 2:return n=e.sent,e.abrupt("return",JSON.parse(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(e){return{type:J,payload:{data:e}}},ae=function(){return{type:q}},oe=function(e){return{type:V,payload:{error:e}}};K.dispatch(function(){var e=Object(ee.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(ae()),te(p).then((function(e){e&&t(ne(e))})),N.a.get("https://raw.githubusercontent.com/bipoza/volto-addons/main/cache/cache.json").then(function(){var e=Object(ee.a)($.a.mark((function e(n){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("DATA: ",n.data),a=p,o=n.data,localStorage.setItem(a,JSON.stringify(o)),t(ne(n.data));case 3:case"end":return e.stop()}var a,o}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t(oe(e.message))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var re=function(){return Object(f.jsxs)(O.a,{store:K,children:[Object(f.jsx)(U,{}),Object(f.jsx)(z,{})]})},ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,288)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),o(e),r(e),c(e)}))};n(261);c.a.render(Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(re,{})}),document.getElementById("root")),ce()}},[[262,1,2]]]);
//# sourceMappingURL=main.b7a34e9b.chunk.js.map